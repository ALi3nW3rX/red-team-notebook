---
description: >-
  Task - Enumerate all Domains in the forest, map the trusts, map external
  trusts, identify external trusts.
---

# Obj 4 Enumeration

## Enumeration Cont.

## List all domains in forest

```
Get-ForestDomain -Verbose
```

## Map all the trusts of the domain

```
Get-DomainTrust
```

## List Only the external trusts in a domain

```
Get-ForestDomain | %{Get-DomainTrust -Domain $_.Name} | ?{$_.TrustAttributes -eq "FILTER_SIDS"}
```

## Identify External Trusts&#x20;

```
Get-DomainTrust | ?{$_.TrustAttributes -eq "FILTER_SIDS"}
```

## List trusts of external forest

```
Get-ForestDomain -Forest eurocorp.local | %{Get-DomainTrust -Domain $_.Name}
```

{% hint style="info" %}
This is only works because we have a bidirectional trust with the external forest.
{% endhint %}
